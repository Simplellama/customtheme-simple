{% case media.media_type %}
    {% when 'video' %}
      {% if thumbnail %}
        <div class="product-single__media" data-media-id="{{ media.id }}">
          {{ media | video_tag: image_size: '275x' }} 
        </div>
      {% else %}
        <div class="product-single__media w-full h-full" data-media-id="{{ media.id }}">
          {{ media | video_tag: image_size: '535x', controls: false, autoplay: true, muted: true, loop: true, class: 'w-full h-full object-cover' }} 
        </div>
      {% endif %}
    {% when 'external_video' %}
      {% if thumbnail %}
        <div class="product-single__media" data-media-id="{{ media.id }}">
          {{ media.preview_image.src | image_url: width: 100 | image_tag: widths: "100,75,50", alt: media.alt | escape, loading: 'lazy' }}
        </div>
      {% else %} 
        <div class="product-single__media" data-media-id="{{ media.id }}">
          {{ media | external_video_tag }}
        </div>
      {% endif %}

  {% endcase %}